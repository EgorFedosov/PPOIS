@startuml
skinparam classAttributeIconSize 0
skinparam linetype ortho

class "Плита" as Stove {
  +включена: bool
  +включить(): None
  +выключить(): None
}

class "Сковорода" as Pan {
  +горячая: bool
  +содержимое: list[object]
  +добавить(ингредиент: object): None
  +очистить(): None
  +нагреть(): None
  +остудить(): None
}

class "Лопатка" as Spatula {
  +перемешать(сковорода: Pan): None
}

class "Яйцо" as Egg {
  +разбито: bool
  +состояние: EggState
  +разбить(): None
  +обжарить(): None
}

class "Масло" as Oil
class "Приправы" as Spices

enum "СостояниеЯйца" as EggState {
  СЫРОЕ
  ЖАРЕНОЕ
}

enum "СостояниеГотовки" as CookingState {
  ОЖИДАНИЕ
  РАЗОГРЕВ
  ГОТОВКА
  ПРИПРАВЫ
  ФИНАЛ
  ПОДАНО
}

class "ПроцессГотовки" as CookingProcess {
  +состояние: CookingState
  +масло_добавлено: bool
  +приправы_добавлены: bool
  +перемешано: bool
  +разогреть_сковороду(): str
  +разбить_яйца(): str
  +добавить_масло(): str
  +добавить_приправы(): str
  +обжарить_яйца(): str
  +перемешать_и_подать(): str
  +снимок(): dict
  +из_снимка(данные: dict): CookingProcess
  -_разобрать_состояние(сырое_состояние: object): CookingState
}

class "ОшибкаГотовки" as CookingError
class "ОшибкаЯйца" as EggError
class "ОшибкаПереходаСостояния" as InvalidStateTransitionError

CookingProcess o-- Stove
CookingProcess o-- Pan
CookingProcess o-- Spatula
CookingProcess o-- Egg
CookingProcess o-- Oil
CookingProcess o-- Spices

EggError --|> CookingError
InvalidStateTransitionError --|> CookingError
CookingError --|> Exception

Egg --> EggState
CookingProcess --> CookingState

@enduml