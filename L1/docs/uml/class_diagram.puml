@startuml
skinparam classAttributeIconSize 0
skinparam linetype ortho

class Stove {
  +is_on: bool
  +turn_on(): None
  +turn_off(): None
}

class Pan {
  +is_hot: bool
  +contents: list[object]
  +add(ingredient: object): None
  +clear(): None
  +heat(): None
  +cool(): None
}

class Spatula {
  +mix(pan: Pan): None
}

class Egg {
  +is_broken: bool
  +state: EggState
  +break_egg(): None
  +fry(): None
}

class Oil
class Spices

enum EggState {
  RAW
  FRIED
}

enum CookingState {
  IDLE
  HEATING
  COOKING
  SEASONING
  FINISHING
  SERVED
}

class CookingProcess {
  +state: CookingState
  +oil_added: bool
  +spices_added: bool
  +is_mixed: bool
  +heat_pan(): str
  +break_eggs(): str
  +add_oil(): str
  +add_spices(): str
  +fry_eggs(): str
  +mix_and_serve(): str
  +snapshot(): dict
  +from_snapshot(data: dict): CookingProcess
  -_parse_state(raw_state: object): CookingState
}

class CookingError
class EggError
class InvalidStateTransitionError

CookingProcess o-- Stove
CookingProcess o-- Pan
CookingProcess o-- Spatula
CookingProcess o-- Egg
CookingProcess o-- Oil
CookingProcess o-- Spices

EggError --|> CookingError
InvalidStateTransitionError --|> CookingError
CookingError --|> Exception

Egg --> EggState
CookingProcess --> CookingState

@enduml
